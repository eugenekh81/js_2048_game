{"mappings":"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","sources":["<anon>","src/scripts/main.js","node_modules/@swc/helpers/esm/_to_consumable_array.js","node_modules/@swc/helpers/esm/_array_without_holes.js","node_modules/@swc/helpers/esm/_array_like_to_array.js","node_modules/@swc/helpers/esm/_iterable_to_array.js","node_modules/@swc/helpers/esm/_non_iterable_spread.js","node_modules/@swc/helpers/esm/_unsupported_iterable_to_array.js"],"sourcesContent":["(function () {\nfunction $c3b10a83b523f372$export$79e617b1955a2616(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n\n\nfunction $c50969dc1df61e8b$export$7e0947b5ad3404e2(arr) {\n    if (Array.isArray(arr)) return (0, $c3b10a83b523f372$export$79e617b1955a2616)(arr);\n}\n\n\nfunction $09c9f293d010c0e1$export$1eb58a6e75231000(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\n\nfunction $38c2d4931cb7a7c4$export$e6f3c4780d19eb2b() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n\n\nfunction $d4f69c5c6c4654b1$export$a5be06335b3a083c(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, $c3b10a83b523f372$export$79e617b1955a2616)(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, $c3b10a83b523f372$export$79e617b1955a2616)(o, minLen);\n}\n\n\nfunction $227c6742e0ff6f82$export$1b5e630bc3aea29f(arr) {\n    return (0, $c50969dc1df61e8b$export$7e0947b5ad3404e2)(arr) || (0, $09c9f293d010c0e1$export$1eb58a6e75231000)(arr) || (0, $d4f69c5c6c4654b1$export$a5be06335b3a083c)(arr) || (0, $38c2d4931cb7a7c4$export$e6f3c4780d19eb2b)();\n}\n\n\n\"use strict\";\nvar $197cd56b15c33885$var$refs = {\n    tiles: document.querySelectorAll(\".field-cell\"),\n    startBtn: document.querySelector(\".start\"),\n    gameScore: document.querySelector(\".game-score\"),\n    gameStartMsg: document.querySelector(\".message-start\"),\n    gameOverMsg: document.querySelector(\".message-lose\"),\n    gameWonMsg: document.querySelector(\".message-win\")\n};\nvar $197cd56b15c33885$var$NUMBER_OF_ROWS = 4;\nvar $197cd56b15c33885$var$NUMBER_OF_CELLS = 4;\nvar $197cd56b15c33885$var$WIN_VALUE = 2048;\nvar $197cd56b15c33885$var$boardValues = $197cd56b15c33885$var$getFieldValues();\n$197cd56b15c33885$var$refs.startBtn.addEventListener(\"click\", $197cd56b15c33885$var$startGame);\nfunction $197cd56b15c33885$var$startGame() {\n    window.removeEventListener(\"keyup\", $197cd56b15c33885$var$moveTiles);\n    $197cd56b15c33885$var$clearGameField();\n    $197cd56b15c33885$var$refs.gameStartMsg.classList.add(\"hidden\");\n    $197cd56b15c33885$var$refs.gameOverMsg.classList.add(\"hidden\");\n    $197cd56b15c33885$var$refs.gameWonMsg.classList.add(\"hidden\");\n    $197cd56b15c33885$var$refs.startBtn.classList.remove(\"start\");\n    $197cd56b15c33885$var$refs.startBtn.classList.add(\"restart\");\n    $197cd56b15c33885$var$refs.startBtn.textContent = \"Restart\";\n    $197cd56b15c33885$var$refs.gameScore.textContent = 0;\n    window.addEventListener(\"keyup\", $197cd56b15c33885$var$moveTiles);\n    $197cd56b15c33885$var$generateRandomTiles(2);\n}\nfunction $197cd56b15c33885$var$generateRandomTiles(numberOfTiles) {\n    var generated = 0;\n    while(generated < numberOfTiles){\n        var randomTileIndex = Math.floor(Math.random() * $197cd56b15c33885$var$refs.tiles.length);\n        var tile = $197cd56b15c33885$var$refs.tiles[randomTileIndex];\n        if (!tile.textContent) {\n            var number = Math.random() >= 0.9 ? 4 : 2;\n            $197cd56b15c33885$var$updateTile(tile, number);\n            generated++;\n        }\n    }\n}\nfunction $197cd56b15c33885$var$hasMoves(array) {\n    for(var r = 0; r < $197cd56b15c33885$var$NUMBER_OF_ROWS; r++)for(var c = 0; c < $197cd56b15c33885$var$NUMBER_OF_CELLS - 1; c++){\n        if (array[r][c] === array[r][c + 1]) return true;\n    }\n    return false;\n}\nfunction $197cd56b15c33885$var$canMove(array) {\n    var rotatedArray = $197cd56b15c33885$var$rotateArray(array);\n    var emptyCells = $197cd56b15c33885$var$hasEmptyTiles(array);\n    var canMoveHorizontally = $197cd56b15c33885$var$hasMoves(array);\n    var canMoveVertically = $197cd56b15c33885$var$hasMoves(rotatedArray);\n    return emptyCells || canMoveHorizontally || canMoveVertically;\n}\nfunction $197cd56b15c33885$var$getFieldValues() {\n    var currentCellIndex = 0;\n    var values = [];\n    for(var r = 0; r < $197cd56b15c33885$var$NUMBER_OF_ROWS; r++){\n        if (!values[r]) values[r] = [];\n        for(var c = 0; c < $197cd56b15c33885$var$NUMBER_OF_CELLS; c++){\n            values[r].push(+$197cd56b15c33885$var$refs.tiles[currentCellIndex].textContent || 0);\n            currentCellIndex++;\n        }\n    }\n    return values;\n}\nfunction $197cd56b15c33885$var$updateTile(tile, number) {\n    tile.textContent = number || \"\";\n    tile.className = \"field-cell field-cell--\".concat(number);\n}\nfunction $197cd56b15c33885$var$moveTiles(e) {\n    if (e.key !== \"ArrowLeft\" && e.key !== \"ArrowRight\" && e.key !== \"ArrowUp\" && e.key !== \"ArrowDown\") return;\n    $197cd56b15c33885$var$boardValues = $197cd56b15c33885$var$getFieldValues();\n    var slideResult;\n    var moved = false;\n    var hasMoreMoves = true;\n    switch(e.key){\n        case \"ArrowLeft\":\n            slideResult = $197cd56b15c33885$var$slideLeft($197cd56b15c33885$var$boardValues);\n            break;\n        case \"ArrowRight\":\n            slideResult = $197cd56b15c33885$var$slideRight($197cd56b15c33885$var$boardValues);\n            break;\n        case \"ArrowUp\":\n            slideResult = $197cd56b15c33885$var$rotateArray($197cd56b15c33885$var$slideLeft($197cd56b15c33885$var$rotateArray($197cd56b15c33885$var$boardValues)));\n            break;\n        case \"ArrowDown\":\n            slideResult = $197cd56b15c33885$var$rotateArray($197cd56b15c33885$var$slideRight($197cd56b15c33885$var$rotateArray($197cd56b15c33885$var$boardValues)));\n            break;\n    }\n    if (!$197cd56b15c33885$var$checkIfEqual($197cd56b15c33885$var$boardValues, slideResult)) {\n        $197cd56b15c33885$var$updateTiles(slideResult);\n        moved = true;\n    }\n    if (moved && $197cd56b15c33885$var$isGameWon()) {\n        $197cd56b15c33885$var$refs.gameWonMsg.classList.remove(\"hidden\");\n        window.removeEventListener(\"keyup\", $197cd56b15c33885$var$moveTiles);\n        return;\n    }\n    if (moved) $197cd56b15c33885$var$generateRandomTiles(1);\n    $197cd56b15c33885$var$boardValues = $197cd56b15c33885$var$getFieldValues();\n    hasMoreMoves = $197cd56b15c33885$var$hasEmptyTiles($197cd56b15c33885$var$boardValues) || $197cd56b15c33885$var$canMove($197cd56b15c33885$var$boardValues);\n    if (!hasMoreMoves) {\n        $197cd56b15c33885$var$refs.gameOverMsg.classList.remove(\"hidden\");\n        window.removeEventListener(\"keyup\", $197cd56b15c33885$var$moveTiles);\n    }\n}\nfunction $197cd56b15c33885$var$checkIfEqual(original, updated) {\n    if (original.length !== updated.length) return false;\n    for(var r = 0; r < $197cd56b15c33885$var$NUMBER_OF_ROWS; r++)for(var c = 0; c < $197cd56b15c33885$var$NUMBER_OF_CELLS; c++){\n        if (original[r][c] !== updated[r][c]) return false;\n    }\n    return true;\n}\nfunction $197cd56b15c33885$var$slideLeft(array) {\n    var transformedValues = [];\n    for(var r = 0; r < $197cd56b15c33885$var$NUMBER_OF_ROWS; r++){\n        var row = $197cd56b15c33885$var$removeZeroes(array[r]);\n        for(var c = 0; c < $197cd56b15c33885$var$NUMBER_OF_CELLS - 1; c++)if (row[c] && row[c] === row[c + 1]) {\n            row[c] *= 2;\n            row[c + 1] = 0;\n            $197cd56b15c33885$var$refs.gameScore.textContent = +$197cd56b15c33885$var$refs.gameScore.textContent + +row[c];\n        }\n        row = $197cd56b15c33885$var$removeZeroes(row);\n        row = $197cd56b15c33885$var$addZeroes(row);\n        transformedValues.push(row);\n    }\n    return transformedValues;\n}\nfunction $197cd56b15c33885$var$slideRight(array) {\n    var transformedValues = [];\n    for(var r = 0; r < $197cd56b15c33885$var$NUMBER_OF_ROWS; r++){\n        var row = $197cd56b15c33885$var$removeZeroes(array[r]).reverse();\n        for(var c = 0; c < $197cd56b15c33885$var$NUMBER_OF_CELLS - 1; c++)if (row[c] && row[c] === row[c + 1]) {\n            row[c] *= 2;\n            row[c + 1] = 0;\n            $197cd56b15c33885$var$refs.gameScore.textContent = +$197cd56b15c33885$var$refs.gameScore.textContent + +row[c];\n        }\n        row = $197cd56b15c33885$var$removeZeroes(row);\n        row = $197cd56b15c33885$var$addZeroes(row).reverse();\n        transformedValues.push(row);\n    }\n    return transformedValues;\n}\nfunction $197cd56b15c33885$var$rotateArray(array) {\n    var rotadedArray = [];\n    for(var c = 0; c < $197cd56b15c33885$var$NUMBER_OF_CELLS; c++)for(var r = 0; r < $197cd56b15c33885$var$NUMBER_OF_ROWS; r++){\n        if (!rotadedArray[c]) rotadedArray[c] = [];\n        rotadedArray[c].push(array[r][c]);\n    }\n    return rotadedArray;\n}\nfunction $197cd56b15c33885$var$removeZeroes(array) {\n    return array.filter(function(item) {\n        return item && item > 0;\n    });\n}\nfunction $197cd56b15c33885$var$addZeroes(row) {\n    for(var c = 0; c < $197cd56b15c33885$var$NUMBER_OF_CELLS; c++)if (!row[c]) row.push(0);\n    return row;\n}\nfunction $197cd56b15c33885$var$hasEmptyTiles(array) {\n    return array.flatMap(function(el) {\n        return el;\n    }).filter(function(tile) {\n        return tile === 0;\n    }).length > 0;\n}\nfunction $197cd56b15c33885$var$updateTiles(array) {\n    var currentTile = 0;\n    for(var r = 0; r < $197cd56b15c33885$var$NUMBER_OF_ROWS; r++)for(var c = 0; c < $197cd56b15c33885$var$NUMBER_OF_CELLS; c++){\n        $197cd56b15c33885$var$updateTile($197cd56b15c33885$var$refs.tiles[currentTile], array[r][c]);\n        currentTile++;\n    }\n}\nfunction $197cd56b15c33885$var$clearGameField() {\n    (0, $227c6742e0ff6f82$export$1b5e630bc3aea29f)($197cd56b15c33885$var$refs.tiles).forEach(function(tile) {\n        tile.textContent = \"\";\n        tile.className = \"field-cell\";\n    });\n}\nfunction $197cd56b15c33885$var$isGameWon() {\n    return (0, $227c6742e0ff6f82$export$1b5e630bc3aea29f)($197cd56b15c33885$var$refs.tiles).some(function(tile) {\n        return +tile.textContent === $197cd56b15c33885$var$WIN_VALUE;\n    });\n}\n\n})();\n//# sourceMappingURL=index.4aae88b0.js.map\n","'use strict';\n\nconst refs = {\n  tiles: document.querySelectorAll('.field-cell'),\n  startBtn: document.querySelector('.start'),\n  gameScore: document.querySelector('.game-score'),\n  gameStartMsg: document.querySelector('.message-start'),\n  gameOverMsg: document.querySelector('.message-lose'),\n  gameWonMsg: document.querySelector('.message-win'),\n};\n\nconst NUMBER_OF_ROWS = 4;\nconst NUMBER_OF_CELLS = 4;\nconst WIN_VALUE = 2048;\nlet boardValues = getFieldValues();\n\nrefs.startBtn.addEventListener('click', startGame);\n\nfunction startGame() {\n  window.removeEventListener('keyup', moveTiles);\n  clearGameField();\n\n  refs.gameStartMsg.classList.add('hidden');\n  refs.gameOverMsg.classList.add('hidden');\n  refs.gameWonMsg.classList.add('hidden');\n  refs.startBtn.classList.remove('start');\n  refs.startBtn.classList.add('restart');\n  refs.startBtn.textContent = 'Restart';\n  refs.gameScore.textContent = 0;\n\n  window.addEventListener('keyup', moveTiles);\n\n  generateRandomTiles(2);\n}\n\nfunction generateRandomTiles(numberOfTiles) {\n  let generated = 0;\n\n  while (generated < numberOfTiles) {\n    const randomTileIndex = Math.floor(Math.random() * refs.tiles.length);\n\n    const tile = refs.tiles[randomTileIndex];\n\n    if (!tile.textContent) {\n      const number = Math.random() >= 0.9 ? 4 : 2;\n\n      updateTile(tile, number);\n      generated++;\n    }\n  }\n}\n\nfunction hasMoves(array) {\n  for (let r = 0; r < NUMBER_OF_ROWS; r++) {\n    for (let c = 0; c < NUMBER_OF_CELLS - 1; c++) {\n      if (array[r][c] === array[r][c + 1]) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction canMove(array) {\n  const rotatedArray = rotateArray(array);\n  const emptyCells = hasEmptyTiles(array);\n\n  const canMoveHorizontally = hasMoves(array);\n  const canMoveVertically = hasMoves(rotatedArray);\n\n  return emptyCells || canMoveHorizontally || canMoveVertically;\n}\n\nfunction getFieldValues() {\n  let currentCellIndex = 0;\n  const values = [];\n\n  for (let r = 0; r < NUMBER_OF_ROWS; r++) {\n    if (!values[r]) {\n      values[r] = [];\n    }\n\n    for (let c = 0; c < NUMBER_OF_CELLS; c++) {\n      values[r].push(+refs.tiles[currentCellIndex].textContent || 0);\n      currentCellIndex++;\n    }\n  }\n\n  return values;\n}\n\nfunction updateTile(tile, number) {\n  tile.textContent = number || '';\n  tile.className = `field-cell field-cell--${number}`;\n}\n\nfunction moveTiles(e) {\n  if (\n    e.key !== 'ArrowLeft'\n    && e.key !== 'ArrowRight'\n    && e.key !== 'ArrowUp'\n    && e.key !== 'ArrowDown'\n  ) {\n    return;\n  }\n\n  boardValues = getFieldValues();\n\n  let slideResult;\n  let moved = false;\n  let hasMoreMoves = true;\n\n  switch (e.key) {\n    case 'ArrowLeft':\n      slideResult = slideLeft(boardValues);\n      break;\n\n    case 'ArrowRight':\n      slideResult = slideRight(boardValues);\n\n      break;\n\n    case 'ArrowUp':\n      slideResult = rotateArray(slideLeft(rotateArray(boardValues)));\n\n      break;\n\n    case 'ArrowDown':\n      slideResult = rotateArray(slideRight(rotateArray(boardValues)));\n      break;\n  }\n\n  if (!checkIfEqual(boardValues, slideResult)) {\n    updateTiles(slideResult);\n    moved = true;\n  }\n\n  if (moved && isGameWon()) {\n    refs.gameWonMsg.classList.remove('hidden');\n    window.removeEventListener('keyup', moveTiles);\n\n    return;\n  }\n\n  if (moved) {\n    generateRandomTiles(1);\n  }\n\n  boardValues = getFieldValues();\n\n  hasMoreMoves = hasEmptyTiles(boardValues) || canMove(boardValues);\n\n  if (!hasMoreMoves) {\n    refs.gameOverMsg.classList.remove('hidden');\n    window.removeEventListener('keyup', moveTiles);\n  }\n}\n\nfunction checkIfEqual(original, updated) {\n  if (original.length !== updated.length) {\n    return false;\n  }\n\n  for (let r = 0; r < NUMBER_OF_ROWS; r++) {\n    for (let c = 0; c < NUMBER_OF_CELLS; c++) {\n      if (original[r][c] !== updated[r][c]) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\nfunction slideLeft(array) {\n  const transformedValues = [];\n\n  for (let r = 0; r < NUMBER_OF_ROWS; r++) {\n    let row = removeZeroes(array[r]);\n\n    for (let c = 0; c < NUMBER_OF_CELLS - 1; c++) {\n      if (row[c] && row[c] === row[c + 1]) {\n        row[c] *= 2;\n        row[c + 1] = 0;\n\n        refs.gameScore.textContent = +refs.gameScore.textContent + +row[c];\n      }\n    }\n    row = removeZeroes(row);\n    row = addZeroes(row);\n\n    transformedValues.push(row);\n  }\n\n  return transformedValues;\n}\n\nfunction slideRight(array) {\n  const transformedValues = [];\n\n  for (let r = 0; r < NUMBER_OF_ROWS; r++) {\n    let row = removeZeroes(array[r]).reverse();\n\n    for (let c = 0; c < NUMBER_OF_CELLS - 1; c++) {\n      if (row[c] && row[c] === row[c + 1]) {\n        row[c] *= 2;\n        row[c + 1] = 0;\n        refs.gameScore.textContent = +refs.gameScore.textContent + +row[c];\n      }\n    }\n\n    row = removeZeroes(row);\n    row = addZeroes(row).reverse();\n\n    transformedValues.push(row);\n  }\n\n  return transformedValues;\n}\n\nfunction rotateArray(array) {\n  const rotadedArray = [];\n\n  for (let c = 0; c < NUMBER_OF_CELLS; c++) {\n    for (let r = 0; r < NUMBER_OF_ROWS; r++) {\n      if (!rotadedArray[c]) {\n        rotadedArray[c] = [];\n      }\n      rotadedArray[c].push(array[r][c]);\n    }\n  }\n\n  return rotadedArray;\n}\n\nfunction removeZeroes(array) {\n  return array.filter((item) => item && item > 0);\n}\n\nfunction addZeroes(row) {\n  for (let c = 0; c < NUMBER_OF_CELLS; c++) {\n    if (!row[c]) {\n      row.push(0);\n    }\n  }\n\n  return row;\n}\n\nfunction hasEmptyTiles(array) {\n  return array.flatMap((el) => el).filter((tile) => tile === 0).length > 0;\n}\n\nfunction updateTiles(array) {\n  let currentTile = 0;\n\n  for (let r = 0; r < NUMBER_OF_ROWS; r++) {\n    for (let c = 0; c < NUMBER_OF_CELLS; c++) {\n      updateTile(refs.tiles[currentTile], array[r][c]);\n      currentTile++;\n    }\n  }\n}\n\nfunction clearGameField() {\n  [...refs.tiles].forEach((tile) => {\n    tile.textContent = '';\n    tile.className = 'field-cell';\n  });\n}\n\nfunction isGameWon() {\n  return [...refs.tiles].some((tile) => +tile.textContent === WIN_VALUE);\n}\n","import { _array_without_holes } from \"./_array_without_holes.js\";\nimport { _iterable_to_array } from \"./_iterable_to_array.js\";\nimport { _non_iterable_spread } from \"./_non_iterable_spread.js\";\nimport { _unsupported_iterable_to_array } from \"./_unsupported_iterable_to_array.js\";\n\nexport function _to_consumable_array(arr) {\n    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();\n}\nexport { _to_consumable_array as _ };\n","import { _array_like_to_array } from \"./_array_like_to_array.js\";\n\nexport function _array_without_holes(arr) {\n    if (Array.isArray(arr)) return _array_like_to_array(arr);\n}\nexport { _array_without_holes as _ };\n","export function _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n}\nexport { _array_like_to_array as _ };\n","export function _iterable_to_array(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) {\n        return Array.from(iter);\n    }\n}\nexport { _iterable_to_array as _ };\n","export function _non_iterable_spread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _non_iterable_spread as _ };\n","import { _array_like_to_array } from \"./_array_like_to_array.js\";\n\nexport function _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\nexport { _unsupported_iterable_to_array as _ };\n"],"names":["$c3b10a83b523f372$export$79e617b1955a2616","arr","len","length","i","arr2","Array","$227c6742e0ff6f82$export$1b5e630bc3aea29f","isArray","iter","Symbol","iterator","from","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","TypeError","$197cd56b15c33885$var$refs","tiles","document","querySelectorAll","startBtn","querySelector","gameScore","gameStartMsg","gameOverMsg","gameWonMsg","$197cd56b15c33885$var$boardValues","$197cd56b15c33885$var$getFieldValues","$197cd56b15c33885$var$generateRandomTiles","numberOfTiles","generated","randomTileIndex","Math","floor","random","tile","textContent","$197cd56b15c33885$var$updateTile","$197cd56b15c33885$var$hasMoves","array","r","c","$197cd56b15c33885$var$NUMBER_OF_CELLS","currentCellIndex","values","push","number","className","concat","$197cd56b15c33885$var$moveTiles","e","key","rotatedArray","emptyCells","canMoveHorizontally","canMoveVertically","slideResult","moved","$197cd56b15c33885$var$slideLeft","$197cd56b15c33885$var$slideRight","$197cd56b15c33885$var$rotateArray","$197cd56b15c33885$var$checkIfEqual","original","updated","$197cd56b15c33885$var$updateTiles","currentTile","some","classList","remove","window","removeEventListener","$197cd56b15c33885$var$hasEmptyTiles","transformedValues","row","$197cd56b15c33885$var$removeZeroes","$197cd56b15c33885$var$addZeroes","reverse","rotadedArray","filter","item","flatMap","el","addEventListener","forEach","add"],"version":3,"file":"index.4aae88b0.js.map"}